<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTIMATE WHITELIST BYPASS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0d1117;
            color: #c9d1d9;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #30363d;
        }
        
        h1 {
            color: #58a6ff;
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        
        .telegram-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            background: linear-gradient(135deg, #0088cc, #24A1DE);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 136, 204, 0.3);
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .telegram-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 136, 204, 0.4);
            background: linear-gradient(135deg, #0077b5, #1E8BC3);
        }
        
        .telegram-btn:active {
            transform: translateY(0);
        }
        
        .telegram-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .telegram-btn:hover::before {
            left: 100%;
        }
        
        .telegram-btn i {
            font-size: 1.3rem;
            filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
        }
        
        .telegram-btn .btn-text {
            position: relative;
            z-index: 1;
        }
        
        .credits-container {
            display: flex;
            justify-content: center;
            margin: 20px 0 10px 0;
        }
        
        .version {
            color: #8b949e;
            font-size: 1.2rem;
        }
        
        .sub_version {
            color: #8b949e;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .credits {
            color: #8b949e;
            font-size: 1rem;
        }
        
        .panel {
            background-color: #161b22;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid #30363d;
        }
        
        .panel-title {
            color: #58a6ff;
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .panel-title i {
            margin-right: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #c9d1d9;
            font-weight: 500;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px 15px;
            background-color: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            color: #c9d1d9;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #58a6ff;
        }
        
        .hint {
            font-size: 0.9rem;
            color: #8b949e;
            margin-top: 5px;
        }
        
        .hint.beta {
            color: #daaa0f;
            font-weight: 500;
        }
        
        .hint.guaranteed-hint {
            color: #daaa0f;
            font-style: italic;
        }
        
        .hint.info {
            color: #58a6ff;
            font-style: italic;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        button {
            padding: 14px 24px;
            background-color: #238636;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        button:hover {
            background-color: #2ea043;
        }
        
        button.secondary {
            background-color: #21262d;
        }
        
        button.secondary:hover {
            background-color: #30363d;
        }
        
        button:disabled {
            background-color: #30363d;
            cursor: not-allowed;
        }
        
        .status-panel {
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .status-message {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: #c9d1d9;
        }
        
        .status-details {
            font-size: 1rem;
            color: #8b949e;
        }
        
        .status-progress {
            height: 6px;
            background-color: #0d1117;
            border-radius: 3px;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #238636;
            width: 0%;
            transition: width 0.5s;
        }
        
        .results-panel {
            display: none;
        }
        
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .config-count {
            background-color: #238636;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .configs-container {
            background-color: #0d1117;
            border-radius: 6px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #30363d;
        }
        
        .config-item {
            padding: 12px;
            border-bottom: 1px solid #30363d;
            font-family: monospace;
            font-size: 0.9rem;
            word-break: break-all;
            position: relative;
        }
        
        .config-item:last-child {
            border-bottom: none;
        }
        
        .config-status {
            position: absolute;
            right: 10px;
            top: 10px;
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 3px;
        }
        
        .status-guaranteed {
            background-color: rgba(218, 170, 15, 0.2);
            color: #daaa0f;
            font-weight: bold;
        }
        
        .status-ws {
            background-color: rgba(56, 139, 253, 0.2);
            color: #58a6ff;
        }
        
        .status-dns {
            background-color: rgba(63, 185, 80, 0.2);
            color: #3fb950;
        }
        
        .actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
            gap: 15px;
        }
        
        .actions button {
            flex: none;
            width: auto;
            min-width: 180px;
        }
        
        .success {
            color: #3fb950;
        }
        
        .error {
            color: #f85149;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #30363d;
            border-top-color: #58a6ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .spinner {
            display: inline-block;
            margin-right: 10px;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: #8b949e;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #30363d;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .actions button {
                width: 100%;
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>üõ† ULTIMATE WHITELIST BYPASS üë®‚Äçüíª</h1>
            <div class="version">‚úì –í–µ—Ä—Å–∏—è: V1.6.3</div>
            <div class="sub_version">–ù–µ–±–æ–ª—å—à–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
            <div class="credits-container">
                <a href="https://t.me/s/ultimatewbypass" target="_blank" class="telegram-btn">
                    <i class="fab fa-telegram"></i>
                    <span class="btn-text">@ultimatewbypass</span>
                </a>
            </div>
        </header>

        <main>
            <div class="panel">
                <div class="panel-title">
                    <i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞
                </div>

                <div class="form-group">
                    <label for="outputPath">–ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤</label>
                    <input type="text" id="outputPath" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ">
                    <div class="hint">–§–∞–π–ª –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∫–∞–∫ "UWB_script_configs.txt" –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ</div>
                </div>

                <div class="form-group">
                    <label for="keyword">–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</label>
                    <input type="text" id="keyword" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤">
                    <div class="hint">–ë—É–¥—É—Ç –≤—ã–±—Ä–∞–Ω—ã —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ (–∫—Ä–æ–º–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)</div>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="noFilterGuaranteed" checked> –ù–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É
                    </label>
                    <div class="hint info">‚úì –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É –∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º</div>
                    <div class="hint guaranteed-hint">‚ö†Ô∏è –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ—Ä–∞–±–æ—á–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è</div>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="checkConfigs" checked> –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ (DNS + WebSocket)
                    </label>
                    <div class="hint">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥–æ–≤</div>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="fastMode"> –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (–ª–∏–º–∏—Ç –∫–æ–Ω—Ñ–∏–≥–æ–≤)
                    </label>
                    <div class="hint">–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è</div>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="fastModeV2" checked> –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º V2 [BETA]
                    </label>
                    <div class="hint beta">‚ö° –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (async)</div>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="prioritizeGuaranteed" checked> –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
                    </label>
                    <div class="hint">–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥–∏ –∏–∑ –Ω–∞—à–µ–≥–æ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞</div>
                </div>

                <div class="buttons">
                    <button id="startBtn">
                        <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤
                    </button>
                    <button id="resetBtn" class="secondary">
                        <i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
            </div>

            <div class="panel status-panel">
                <div class="panel-title">
                    <i class="fas fa-info-circle"></i> –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                </div>

                <div class="status-message" id="statusMessage">–ì–æ—Ç–æ–≤ –∫ –ø–æ–∏—Å–∫—É –∫–æ–Ω—Ñ–∏–≥–æ–≤...</div>
                <div class="status-details" id="statusDetails">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤" –¥–ª—è –∑–∞–ø—É—Å–∫–∞</div>

                <div class="status-progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>

            <div class="panel results-panel" id="resultsPanel">
                <div class="results-header">
                    <div class="panel-title">
                        <i class="fas fa-list"></i> –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
                    </div>
                    <div class="config-count" id="configCount">0 –∫–æ–Ω—Ñ–∏–≥–æ–≤</div>
                </div>

                <div class="configs-container" id="configsContainer">
                    <!-- –ö–æ–Ω—Ñ–∏–≥–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>

                <div class="actions">
                    <button id="copyAllBtn" class="secondary">
                        <i class="fas fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏
                    </button>
                    <button id="downloadBtn" class="secondary">
                        <i class="fas fa-download"></i> –°–∫–∞—á–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏
                    </button>
                </div>
            </div>
        </main>

        <footer>
            <p>‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥–∏ —Ç–æ–ª—å–∫–æ –≤ –∑–∞–∫–æ–Ω–Ω—ã—Ö —Ü–µ–ª—è—Ö. –ê–≤—Ç–æ—Ä—ã –Ω–µ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è.</p>
            <p style="margin-top: 10px; font-size: 0.8rem; color: #58a6ff;">
                <i class="fas fa-star"></i> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
                <i class="fas fa-bolt" style="margin-left: 15px;"></i> –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º V2 [BETA]
            </p>

            <div style="margin-top: 20px; padding: 15px; background-color: #161b22; border-radius: 6px; border: 1px solid #30363d;">
                <p style="font-size: 0.85rem; color: #8b949e; margin-bottom: 10px;">
                    <i class="fas fa-code-branch"></i> –ê–≤—Ç–æ—Ä—ã –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫:
                </p>
                <div style="font-size: 0.75rem; color: #c9d1d9; line-height: 1.4;">
                    <p>‚Ä¢ <strong>–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞:</strong> RYZz/RYZgames31 (wcfg)</p>
                    <p>‚Ä¢ <strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏:</strong></p>
                    <p style="margin-left: 20px;">- AvenCores [@avencoresyt] (goida-vpn-configs)</p>
                    <p style="margin-left: 20px;">- roosterkid [–ù–µ—Ç –¢–ì] (openproxylist)</p>
                    <p style="margin-left: 20px;">- zieng2 [–ù–µ—Ç –¢–ì] (wl/vless)</p>
                    <p style="margin-left: 20px;">- igareck [–ù–µ—Ç –¢–ì] (vpn-configs-for-russia)</p>
                    <p style="margin-left: 20px;">- LowiKLive [@LowiK_Live] (BypassWhitelistRu)</p>
                    <p style="margin-left: 20px;">- zieng2 [–ù–µ—Ç –¢–ì] (wl/vless-universal)</p>
                    <p style="margin-left: 20px;">- vsevjik [@vsevj_134] (OBSpiskov)</p>
                    <p style="margin-left: 20px;">- @catlergememe –ø–æ–º–æ–≥–ª–∏ —Å –ø–æ–∏—Å–∫–æ–º –ø–æ–¥–ø–∏—Å–æ–∫</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        if (window.location.hostname === 'ultimatewbypass.netlify.app') {
            // Construct the new URL while keeping the path and search parameters
            const newUrl = 'https://ryzgames31.github.io/UWB/' + window.location.pathname + window.location.search;
            window.location.replace(newUrl);
        }
        // === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò–°–¢–û–ß–ù–ò–ö–û–í ===
        const GUARANTEED_SUBSCRIPTION = "https://raw.githubusercontent.com/RYZgames31/UWB/refs/heads/main/wcfg";
        
        const ADDITIONAL_SUBSCRIPTIONS = [
            "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/26.txt",
            "https://raw.githubusercontent.com/roosterkid/openproxylist/main/V2RAY_RAW.txt",
            "https://raw.githubusercontent.com/zieng2/wl/main/vless.txt",
            "https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/Vless-Reality-White-Lists-Rus-Mobile.txt",
            "https://raw.githubusercontent.com/LowiKLive/BypassWhitelistRu/refs/heads/main/WhiteList-Bypass_Ru.txt",
            "https://raw.githubusercontent.com/zieng2/wl/main/vless_universal.txt",
            "https://raw.githubusercontent.com/vsevjik/OBSpiskov/refs/heads/main/wwh"
        ];
        
        function getAllSubscriptions(prioritizeGuaranteed = true) {
            if (prioritizeGuaranteed) {
                return [GUARANTEED_SUBSCRIPTION, ...ADDITIONAL_SUBSCRIPTIONS];
            }
            return [...ADDITIONAL_SUBSCRIPTIONS, GUARANTEED_SUBSCRIPTION];
        }
        
        // === –û–°–ù–û–í–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ===
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const copyAllBtn = document.getElementById('copyAllBtn');
        const outputPathInput = document.getElementById('outputPath');
        const keywordInput = document.getElementById('keyword');
        const noFilterGuaranteedCheckbox = document.getElementById('noFilterGuaranteed');
        const checkConfigsCheckbox = document.getElementById('checkConfigs');
        const fastModeCheckbox = document.getElementById('fastMode');
        const fastModeV2Checkbox = document.getElementById('fastModeV2');
        const prioritizeGuaranteedCheckbox = document.getElementById('prioritizeGuaranteed');
        const statusMessage = document.getElementById('statusMessage');
        const statusDetails = document.getElementById('statusDetails');
        const progressBar = document.getElementById('progressBar');
        const resultsPanel = document.getElementById('resultsPanel');
        const configsContainer = document.getElementById('configsContainer');
        const configCount = document.getElementById('configCount');
        
        let foundConfigs = [];
        let totalConfigs = 0;
        let configsWithoutDuplicates = 0;
        let isProcessing = false;
        
        // === –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–´–• –ö–û–ù–§–ò–ì–û–í ===
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏–∑ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ (—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
        async function fetchGuaranteedConfigs(keyword, noFilter = true) {
            updateStatus('‚≠ê –ó–∞–≥—Ä—É–∑–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö', noFilter ? '–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏' : '–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤', 10);
            
            try {
                const response = await fetch(GUARANTEED_SUBSCRIPTION, { 
                    method: 'GET',
                    mode: 'cors',
                    cache: 'no-cache'
                });
                
                if (!response.ok) {
                    throw new Error(`–û—à–∏–±–∫–∞ HTTP: ${response.status}`);
                }
                
                const text = await response.text();
                const lines = text.split('\n');
                
                let configs = [];
                for (const line of lines) {
                    if (line.trim()) {
                        if (noFilter) {
                            // –ï—Å–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è - –±–µ—Ä–µ–º –í–°–ï –∫–æ–Ω—Ñ–∏–≥–∏
                            configs.push(line.trim());
                        } else {
                            // –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è - —Ñ–∏–ª—å—Ç—Ä—É–µ–º –∫–∞–∫ –æ–±—ã—á–Ω–æ
                            if (isValidConfig(line, keyword)) {
                                configs.push(line.trim());
                            }
                        }
                    }
                }
                
                const filterStatus = noFilter ? '–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏' : '—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π';
                updateStatus('‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã', `–ù–∞–π–¥–µ–Ω–æ ${configs.length} –∫–æ–Ω—Ñ–∏–≥–æ–≤ (${filterStatus})`, 20);
                return configs;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏:', error);
                updateStatus('‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö', '–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏', 20);
                return [];
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–≤—Å–µ–≥–¥–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
        async function fetchConfigsFromAdditionalSource(url, keyword, sourceIndex, totalSources) {
            try {
                const progress = 20 + Math.round((sourceIndex / totalSources) * 30);
                updateStatus(
                    '‚è≥ –ü–æ–∏—Å–∫ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö', 
                    `–ò—Å—Ç–æ—á–Ω–∏–∫ ${sourceIndex+1} –∏–∑ ${totalSources}`, 
                    progress
                );
                
                const response = await fetch(url, { 
                    method: 'GET',
                    mode: 'cors',
                    cache: 'no-cache'
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error: ${response.status}`);
                }
                
                const text = await response.text();
                const lines = text.split('\n');
                
                let sourceConfigs = [];
                let count = 0;
                const maxConfigs = fastModeCheckbox.checked ? 5 : 1000;
                
                for (const line of lines) {
                    if (count >= maxConfigs) break;
                    
                    if (line.trim() && isValidConfig(line, keyword)) {
                        sourceConfigs.push(line.trim());
                        count++;
                    }
                }
                
                return sourceConfigs;
            } catch (error) {
                console.error(`–û—à–∏–±–∫–∞ –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ ${url}:`, error);
                return [];
            }
        }
        
        // === –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ===
        function decodeURLComponent(str) {
            try {
                return decodeURIComponent(str.replace(/\+/g, ' '));
            } catch (e) {
                return str;
            }
        }
        
        function updateStatus(message, details = '', progress = 0) {
            statusMessage.textContent = message;
            statusDetails.textContent = details;
            progressBar.style.width = `${progress}%`;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
        function isValidConfig(config, keyword) {
            const decodedConfig = decodeURLComponent(config);
            
            const hasRussianSites = 
                config.includes('vk.com') || decodedConfig.includes('vk.com') ||
                config.includes('userapi.com') || decodedConfig.includes('userapi.com') ||
                config.includes('mail.ru') || decodedConfig.includes('mail.ru') ||
                config.includes('yandex.net') || decodedConfig.includes('yandex.net') ||
                config.includes('yastatic.net') || decodedConfig.includes('yastatic.net') ||
                config.includes('yandex.ru') || decodedConfig.includes('yandex.ru') ||
                config.includes('ok.ru') || decodedConfig.includes('ok.ru') ||
                config.includes('ozone.ru') || decodedConfig.includes('ozone.ru') ||
                config.includes('rutube.ru') || decodedConfig.includes('rutube.ru');
            
            const hasRussianIndicators = 
                config.includes('%F0%9F%87%B7%F0%9F%87%BA') || 
                decodedConfig.includes('üá∑üá∫') ||
                config.includes('RU') || decodedConfig.includes('RU') ||
                config.includes('Russia') || decodedConfig.includes('Russia') ||
                config.includes('–†–æ—Å—Å–∏—è') || decodedConfig.includes('–†–æ—Å—Å–∏—è') ||
                config.includes('Russian') || decodedConfig.includes('Russian');
            
            const hasExcludedTerms = 
                decodedConfig.includes('–ú–æ—Å–∫–≤–∞') ||
                config.includes('#%5BSNI%3A') ||
                decodedConfig.includes('confegraigan') ||
                decodedConfig.includes('Global Connectivity Solutions Llp') ||
                decodedConfig.includes('Yandex.Cloud LLC') ||
                decodedConfig.includes('Hypercore Ltd') ||
                decodedConfig.includes('Cloud Network LLC');
            
            const hasKeyword = keyword === '' || 
                decodedConfig.toLowerCase().includes(keyword.toLowerCase()) ||
                config.toLowerCase().includes(keyword.toLowerCase());
            
            return hasRussianSites && hasRussianIndicators && !hasExcludedTerms && hasKeyword;
        }
        
        function extractDomainAndPortFromConfig(config) {
            const match1 = config.match(/@([a-zA-Z0-9.-]+):(\d+)/);
            if (match1 && match1[1] && match1[2]) {
                return { domain: match1[1], port: parseInt(match1[2]) };
            }
            
            const match2 = config.match(/@([a-zA-Z0-9.-]+)(?:[?/#]|$)/);
            if (match2 && match2[1]) {
                return { domain: match2[1], port: 443 };
            }
            
            return null;
        }
        
        // === –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ë–´–°–¢–†–û–ì–û –†–ï–ñ–ò–ú–ê V2 ===
        
        async function checkDNSAsync(domain) {
            if (!domain) return { success: false, error: '–ù–µ—Ç –¥–æ–º–µ–Ω–∞' };
            
            try {
                const cleanDomain = domain.replace(/[^a-zA-Z0-9.-]/g, '');
                
                const response = await fetch(`https://cloudflare-dns.com/dns-query?name=${encodeURIComponent(cleanDomain)}&type=A`, {
                    headers: { 'Accept': 'application/dns-json' },
                    method: 'GET',
                    mode: 'cors'
                });
                
                if (!response.ok) {
                    return { success: false, error: `HTTP ${response.status}` };
                }
                
                const data = await response.json();
                
                if (data.Answer && data.Answer.length > 0) {
                    const hasValidIP = data.Answer.some(answer => {
                        const ip = answer.data;
                        return ip && (ip.match(/^\d+\.\d+\.\d+\.\d+$/) || ip.includes(':'));
                    });
                    
                    return { 
                        success: hasValidIP, 
                        ips: data.Answer.map(a => a.data).join(', '),
                        ttl: data.Answer[0]?.TTL || 0
                    };
                }
                
                return { success: false, error: '–ù–µ—Ç DNS –∑–∞–ø–∏—Å–µ–π' };
            } catch (error) {
                return { success: false, error: error.message };
            }
        }
        
        async function checkWebSocketAsync(domain, port) {
            if (!domain || !port) return { success: false, error: '–ù–µ—Ç –¥–æ–º–µ–Ω–∞ –∏–ª–∏ –ø–æ—Ä—Ç–∞' };
            
            return new Promise((resolve) => {
                const protocol = port === 443 || port === 8443 ? 'wss' : 'ws';
                const url = `${protocol}://${domain}:${port}`;
                
                const timeout = setTimeout(() => {
                    ws.close();
                    resolve({ success: false, error: '–¢–∞–π–º–∞—É—Ç 3—Å' });
                }, 3000);
                
                const ws = new WebSocket(url);
                
                ws.onopen = () => {
                    clearTimeout(timeout);
                    ws.close();
                    resolve({ success: true, protocol: protocol });
                };
                
                ws.onerror = () => {
                    clearTimeout(timeout);
                    resolve({ success: false, error: '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è' });
                };
                
                ws.onclose = () => {
                    clearTimeout(timeout);
                };
            });
        }
        
        async function checkConfigHealthAsync(config, isGuaranteed = false) {
            const domainInfo = extractDomainAndPortFromConfig(config);
            
            if (!domainInfo) {
                return {
                    config: config,
                    dns: { success: false, error: '–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å –¥–æ–º–µ–Ω' },
                    ws: { success: false, error: '–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å –¥–æ–º–µ–Ω' },
                    healthScore: 0,
                    status: 'unknown',
                    isGuaranteed: isGuaranteed
                };
            }
            
            // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ DNS –∏ WebSocket
            const [dnsResult, wsResult] = await Promise.allSettled([
                checkDNSAsync(domainInfo.domain),
                checkWebSocketAsync(domainInfo.domain, domainInfo.port)
            ]);
            
            const dns = dnsResult.status === 'fulfilled' ? dnsResult.value : { success: false, error: dnsResult.reason?.message || 'DNS –æ—à–∏–±–∫–∞' };
            const ws = wsResult.status === 'fulfilled' ? wsResult.value : { success: false, error: wsResult.reason?.message || 'WebSocket –æ—à–∏–±–∫–∞' };
            
            // –û—Ü–µ–Ω–∏–≤–∞–µ–º —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
            let healthScore = 0;
            let status = 'unknown';
            
            if (ws.success) {
                healthScore = 3;
                status = 'ws';
            } else if (dns.success) {
                healthScore = 2;
                status = 'dns';
            } else {
                // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –ø–æ–ª—É—á–∞—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
                healthScore = isGuaranteed ? 1 : 0;
                status = 'dead';
            }
            
            return {
                config: config,
                domain: domainInfo.domain,
                port: domainInfo.port,
                dns: dns,
                ws: ws,
                healthScore: healthScore,
                status: status,
                isGuaranteed: isGuaranteed
            };
        }
        
        // –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ (–±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º V2)
        async function checkConfigsMassively(configsToCheck, guaranteedConfigs = [], noFilterGuaranteed = true) {
            updateStatus('‚ö° –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤', `–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ ${configsToCheck.length} –∫–æ–Ω—Ñ–∏–≥–æ–≤...`, 75);
            
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–∏—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
            const checkPromises = configsToCheck.map((config, index) => {
                return (async () => {
                    try {
                        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ–Ω—Ñ–∏–≥–∞
                        const isGuaranteed = guaranteedConfigs.includes(config);
                        
                        const healthInfo = await checkConfigHealthAsync(config, isGuaranteed);
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                        const progress = 75 + Math.round(((index + 1) / configsToCheck.length) * 20);
                        updateStatus(
                            '‚ö° –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤', 
                            `–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ ${index + 1} –∏–∑ ${configsToCheck.length}`, 
                            progress
                        );
                        
                        // –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ö–û–ù–§–ò–ì–û–í
                        if (noFilterGuaranteed && isGuaranteed) {
                            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –í–´–ö–õ–Æ–ß–ï–ù–ê - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –†–ê–ë–û–ß–ò–ï –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
                            if (healthInfo.healthScore >= 2) {
                                return healthInfo;
                            }
                            return null;
                        } else if (!noFilterGuaranteed && isGuaranteed && healthInfo.healthScore >= 2) {
                            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –í–ö–õ–Æ–ß–ï–ù–ê - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –†–ê–ë–û–ß–ò–ï –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (healthScore >= 2)
                            return healthInfo;
                        } else if (healthInfo.healthScore >= 2) {
                            // –û–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –Ω–µ-–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
                            return healthInfo;
                        }
                        return null;
                    } catch (error) {
                        console.error(`–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞:`, error);
                        return null;
                    }
                })();
            });
            
            const results = await Promise.allSettled(checkPromises);
            
            const checkedConfigs = results
                .filter(result => result.status === 'fulfilled' && result.value !== null)
                .map(result => result.value);
            
            return checkedConfigs;
        }
        
        // –û–±—ã—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è)
        async function checkConfigsSequentially(configsToCheck, guaranteedConfigs = [], noFilterGuaranteed = true) {
            let checkedConfigs = [];
            
            for (let i = 0; i < configsToCheck.length; i++) {
                const config = configsToCheck[i];
                const progress = 75 + Math.round((i / configsToCheck.length) * 20);
                
                updateStatus(
                    'üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤', 
                    `–ü—Ä–æ–≤–µ—Ä–∫–∞ ${i+1} –∏–∑ ${configsToCheck.length}`, 
                    progress
                );
                
                try {
                    const isGuaranteed = guaranteedConfigs.includes(config);
                    
                    const healthInfo = await checkConfigHealthAsync(config, isGuaranteed);
                    
                    // –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ö–û–ù–§–ò–ì–û–í
                    if (noFilterGuaranteed && isGuaranteed) {
                        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –í–´–ö–õ–Æ–ß–ï–ù–ê - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –†–ê–ë–û–ß–ò–ï –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
                        if (healthInfo.healthScore >= 2) {
                            checkedConfigs.push(healthInfo);
                        }
                    } else if (!noFilterGuaranteed && isGuaranteed && healthInfo.healthScore >= 2) {
                        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –í–ö–õ–Æ–ß–ï–ù–ê - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –†–ê–ë–û–ß–ò–ï –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (healthScore >= 2)
                        checkedConfigs.push(healthInfo);
                    } else if (healthInfo.healthScore >= 2) {
                        // –û–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –Ω–µ-–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
                        checkedConfigs.push(healthInfo);
                    }
                } catch (error) {
                    console.error(`–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞:`, error);
                }
                
                await new Promise(resolve => setTimeout(resolve, 400));
            }
            
            return checkedConfigs;
        }
        
        function removeDuplicates(configs) {
            const seen = new Set();
            const result = [];
            
            for (const config of configs) {
                const stripped = config.trim();
                if (stripped && !seen.has(stripped)) {
                    seen.add(stripped);
                    result.push(stripped);
                }
            }
            
            return result;
        }
        
        // === –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–û–ò–°–ö–ê ===
        async function searchConfigs() {
            if (isProcessing) return;
            
            isProcessing = true;
            startBtn.disabled = true;
            startBtn.innerHTML = '<div class="loading spinner"></div> –ò–¥–µ—Ç –ø–æ–∏—Å–∫...';
            
            const keyword = keywordInput.value.trim();
            const noFilterGuaranteed = noFilterGuaranteedCheckbox.checked;
            const checkConfigs = checkConfigsCheckbox.checked;
            const fastMode = fastModeCheckbox.checked;
            const fastModeV2 = fastModeV2Checkbox.checked;
            const prioritizeGuaranteed = prioritizeGuaranteedCheckbox.checked;
            
            foundConfigs = [];
            totalConfigs = 0;
            configsWithoutDuplicates = 0;
            
            updateStatus('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∏—Å–∫...', '–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤', 0);
            
            configsContainer.innerHTML = '';
            resultsPanel.style.display = 'none';
            
            let allConfigs = [];
            let guaranteedConfigs = [];
            
            // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥–∏ –∏–∑ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ (—Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
            updateStatus('‚≠ê –ó–∞–≥—Ä—É–∑–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö', noFilterGuaranteed ? '–ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏' : '–° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É', 10);
            guaranteedConfigs = await fetchGuaranteedConfigs(keyword, noFilterGuaranteed);
            allConfigs.push(...guaranteedConfigs);
            
            // 2. –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥–∏ –∏–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–í–°–ï–ì–î–ê —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
            const additionalSources = ADDITIONAL_SUBSCRIPTIONS;
            
            for (let i = 0; i < additionalSources.length; i++) {
                const sourceConfigs = await fetchConfigsFromAdditionalSource(
                    additionalSources[i], 
                    keyword, 
                    i, 
                    additionalSources.length
                );
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
                sourceConfigs.forEach(config => {
                    if (!allConfigs.includes(config)) {
                        allConfigs.push(config);
                    }
                });
                
                totalConfigs = allConfigs.length;
                
                await new Promise(resolve => setTimeout(resolve, 200));
            }
            
            // 3. –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
            updateStatus('üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤', '–£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤...', 60);
            await new Promise(resolve => setTimeout(resolve, 300));
            
            const uniqueConfigs = removeDuplicates(allConfigs);
            
            // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
            let checkedConfigs = [];
            if (checkConfigs && uniqueConfigs.length > 0) {
                updateStatus('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏', `–ü—Ä–æ–≤–µ—Ä–∫–∞ ${uniqueConfigs.length} –∫–æ–Ω—Ñ–∏–≥–æ–≤...`, 70);
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö)
                let configsToCheck = uniqueConfigs;
                if (fastMode) {
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ-–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
                    const nonGuaranteedConfigs = uniqueConfigs.filter(config => 
                        !guaranteedConfigs.includes(config)
                    ).slice(0, 20);
                    
                    // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –Ω–µ-–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
                    configsToCheck = [...guaranteedConfigs, ...nonGuaranteedConfigs];
                    configsToCheck = removeDuplicates(configsToCheck);
                }
                
                // –í—ã–±–∏—Ä–∞–µ–º –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
                if (fastModeV2) {
                    // –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º V2 - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                    checkedConfigs = await checkConfigsMassively(
                        configsToCheck, 
                        guaranteedConfigs, 
                        noFilterGuaranteed
                    );
                    configsWithoutDuplicates = checkedConfigs.length;
                } else {
                    // –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                    checkedConfigs = await checkConfigsSequentially(
                        configsToCheck, 
                        guaranteedConfigs, 
                        noFilterGuaranteed
                    );
                    configsWithoutDuplicates = checkedConfigs.length;
                }
            } else {
                // –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞
                checkedConfigs = uniqueConfigs.map(config => {
                    const isGuaranteed = guaranteedConfigs.includes(config);
                    
                    return {
                        config: config,
                        domain: extractDomainAndPortFromConfig(config)?.domain || 'unknown',
                        healthScore: isGuaranteed ? 1 : 0,
                        status: 'unchecked',
                        dns: { success: null },
                        ws: { success: null },
                        isGuaranteed: isGuaranteed
                    };
                });
                configsWithoutDuplicates = checkedConfigs.length;
            }
            
            // 5. –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            checkedConfigs.sort((a, b) => {
                // –°–Ω–∞—á–∞–ª–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
                if (a.isGuaranteed && !b.isGuaranteed) return -1;
                if (!a.isGuaranteed && b.isGuaranteed) return 1;
                
                // –ó–∞—Ç–µ–º –ø–æ healthScore
                return b.healthScore - a.healthScore;
            });
            
            // 6. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            displayResults(checkedConfigs, noFilterGuaranteed);
            
            // 7. –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å
            const guaranteedCount = checkedConfigs.filter(c => c.isGuaranteed).length;
            const guaranteedTotal = guaranteedConfigs.length;
            
            let finalMessage = '‚úÖ –ü–æ–∏—Å–∫ –∑–∞–≤–µ—Ä—à–µ–Ω!';
            let finalDetails = `–ù–∞–π–¥–µ–Ω–æ ${configsWithoutDuplicates} –∫–æ–Ω—Ñ–∏–≥–æ–≤`;
            
            if (guaranteedTotal > 0) {
                const filterStatus = noFilterGuaranteed ? '–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏' : '—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π';
                const workingGuaranteed = checkedConfigs.filter(c => c.isGuaranteed && c.healthScore >= 2).length;
                finalDetails = `–ù–∞–π–¥–µ–Ω–æ ${configsWithoutDuplicates} –∫–æ–Ω—Ñ–∏–≥–æ–≤ (${workingGuaranteed} —Ä–∞–±–æ—á–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑ ${guaranteedTotal}, ${filterStatus})`;
            }
            if (fastModeV2) {
                finalDetails += ' ‚ö° V2 —Ä–µ–∂–∏–º';
            } else if (fastMode) {
                finalDetails += ' ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º';
            }
            
            updateStatus(finalMessage, finalDetails, 100);
            
            startBtn.disabled = false;
            startBtn.innerHTML = '<i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤';
            isProcessing = false;
        }
        
        function displayResults(checkedConfigs, noFilterGuaranteed) {
            // –§–ò–õ–¨–¢–†–£–ï–ú –ö–û–ù–§–ò–ì–ò, –ö–û–¢–û–†–´–ï –ù–ï –î–û–õ–ñ–ù–´ –û–¢–û–ë–†–ê–ñ–ê–¢–¨–°–Ø
            const displayConfigs = checkedConfigs.filter(healthInfo => {
                // –ò—Å–∫–ª—é—á–∞–µ–º –∫–æ–Ω—Ñ–∏–≥–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ù–ï –†–ê–ë–û–¢–ê–ï–¢" (–Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
                if (healthInfo.isGuaranteed && healthInfo.healthScore < 2 && noFilterGuaranteed) {
                    return false;
                }
                return true;
            });
            
            configCount.textContent = `${displayConfigs.length} –∫–æ–Ω—Ñ–∏–≥–æ–≤`;
            configsContainer.innerHTML = '';
            
            if (displayConfigs.length === 0) {
                configCount.textContent = '0 –∫–æ–Ω—Ñ–∏–≥–æ–≤';
                configsContainer.innerHTML = '<div class="config-item">–ö–æ–Ω—Ñ–∏–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ.</div>';
            } else {
                displayConfigs.forEach((healthInfo, index) => {
                    const configElement = document.createElement('div');
                    configElement.className = 'config-item';
                    
                    const decodedDisplay = decodeURLComponent(healthInfo.config);
                    
                    if (healthInfo.isGuaranteed) {
                        const statusElement = document.createElement('span');
                        statusElement.className = 'config-status status-guaranteed';
                        statusElement.textContent = '‚≠ê –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–´–ô';
                        statusElement.title = '–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥';
                        configElement.appendChild(statusElement);
                    } else if (healthInfo.status === 'ws') {
                        const statusElement = document.createElement('span');
                        statusElement.className = 'config-status status-ws';
                        statusElement.textContent = '‚úì WebSocket';
                        statusElement.title = 'WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç';
                        configElement.appendChild(statusElement);
                    } else if (healthInfo.status === 'dns') {
                        const statusElement = document.createElement('span');
                        statusElement.className = 'config-status status-dns';
                        statusElement.textContent = '‚úì DNS';
                        statusElement.title = 'DNS —Ä–∞–±–æ—Ç–∞–µ—Ç, WebSocket –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç';
                        configElement.appendChild(statusElement);
                    } else if (healthInfo.status === 'unchecked') {
                        if (healthInfo.isGuaranteed) {
                            const statusElement = document.createElement('span');
                            statusElement.className = 'config-status status-guaranteed';
                            statusElement.textContent = noFilterGuaranteed ? '‚≠ê –ù–ï –§–ò–õ–¨–¢–†–û–í–ê–ù' : '‚≠ê –ù–ï –ü–†–û–í–ï–†–ï–ù';
                            statusElement.title = '–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥';
                            configElement.appendChild(statusElement);
                        }
                    }
                    
                    const content = document.createElement('div');
                    
                    let statusText = '';
                    if (healthInfo.isGuaranteed) {
                        if (healthInfo.status === 'unchecked') {
                            if (noFilterGuaranteed) {
                                statusText = `<span style="color:#daaa0f">‚≠ê –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–Ω–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª—Å—è)</span>`;
                            } else {
                                statusText = `<span style="color:#daaa0f">‚≠ê –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω)</span>`;
                            }
                        } else {
                            if (noFilterGuaranteed) {
                                statusText = `<span style="color:#daaa0f">‚≠ê –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)</span>`;
                            } else {
                                statusText = `<span style="color:#daaa0f">‚≠ê –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥</span>`;
                            }
                        }
                    } else if (healthInfo.status === 'ws') {
                        statusText = `<span style="color:#3fb950">‚úì WebSocket —Ä–∞–±–æ—Ç–∞–µ—Ç</span>`;
                    } else if (healthInfo.status === 'dns') {
                        statusText = `<span style="color:#58a6ff">‚úì DNS —Ä–∞–±–æ—Ç–∞–µ—Ç</span>`;
                    } else if (healthInfo.status === 'unchecked') {
                        statusText = `<span style="color:#8b949e">? –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω</span>`;
                    } else {
                        statusText = `<span style="color:#f85149">‚úó –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º</span>`;
                    }
                    
                    content.innerHTML = `
                        <div><strong>${index + 1}. ${decodedDisplay.substring(0, 100)}${decodedDisplay.length > 100 ? '...' : ''}</strong></div>
                        <div style="font-size:0.8em;margin-top:5px;color:#8b949e;">
                            ${statusText}
                            ${healthInfo.domain ? ` ‚Ä¢ ${healthInfo.domain}:${healthInfo.port || '?'}` : ''}
                            ${healthInfo.dns.ips ? ` ‚Ä¢ IP: ${healthInfo.dns.ips}` : ''}
                            ${healthInfo.isGuaranteed && noFilterGuaranteed ? ` ‚Ä¢ <span style="color:#daaa0f">‚úì –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</span>` : ''}
                        </div>
                    `;
                    configElement.appendChild(content);
                    
                    configElement.dataset.original = healthInfo.config;
                    
                    configsContainer.appendChild(configElement);
                });
            }
            
            resultsPanel.style.display = 'block';
        }
        
        function copyAllConfigs() {
            const configElements = document.querySelectorAll('.config-item[data-original]');
            if (configElements.length === 0) {
                alert('–ù–µ—Ç –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è');
                return;
            }
            
            // –°–æ–±–∏—Ä–∞–µ–º –∫–æ–Ω—Ñ–∏–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
            const originalConfigs = [];
            configElements.forEach(el => {
                if (el.dataset.original) {
                    originalConfigs.push(el.dataset.original);
                }
            });
            
            if (originalConfigs.length === 0) {
                alert('–ù–µ—Ç —Ä–∞–±–æ—á–∏—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è');
                return;
            }
            
            const configText = originalConfigs.join('\n');
            
            navigator.clipboard.writeText(configText)
                .then(() => {
                    const copyBtn = document.getElementById('copyAllBtn');
                    const originalHtml = copyBtn.innerHTML;
                    
                    copyBtn.innerHTML = '<i class="fas fa-check"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    copyBtn.style.backgroundColor = '#238636';
                    
                    setTimeout(() => {
                        copyBtn.innerHTML = originalHtml;
                        copyBtn.style.backgroundColor = '';
                    }, 2000);
                    
                    updateStatus('‚úÖ –ö–æ–Ω—Ñ–∏–≥–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!', `${originalConfigs.length} —Ä–∞–±–æ—á–∏—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞`, 100);
                })
                .catch(err => {
                    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                    
                    const textArea = document.createElement('textarea');
                    textArea.value = configText;
                    document.body.appendChild(textArea);
                    textArea.select();
                    
                    try {
                        const successful = document.execCommand('copy');
                        if (successful) {
                            alert('–ö–æ–Ω—Ñ–∏–≥–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                            updateStatus('‚úÖ –ö–æ–Ω—Ñ–∏–≥–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!', `${originalConfigs.length} —Ä–∞–±–æ—á–∏—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ`, 100);
                        } else {
                            alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é.');
                        }
                    } catch (fallbackErr) {
                        console.error('Fallback –æ—à–∏–±–∫–∞: ', fallbackErr);
                        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª.');
                    }
                    
                    document.body.removeChild(textArea);
                });
        }
        
        function downloadConfigs() {
            const configElements = document.querySelectorAll('.config-item[data-original]');
            if (configElements.length === 0) {
                alert('–ù–µ—Ç –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è');
                return;
            }
            
            // –°–æ–±–∏—Ä–∞–µ–º –∫–æ–Ω—Ñ–∏–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∫–∞—á–∞–Ω—ã
            const originalConfigs = [];
            configElements.forEach(el => {
                if (el.dataset.original) {
                    originalConfigs.push(el.dataset.original);
                }
            });
            
            if (originalConfigs.length === 0) {
                alert('–ù–µ—Ç —Ä–∞–±–æ—á–∏—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è');
                return;
            }
            
            const outputPath = outputPathInput.value.trim();
            let fileName = 'UWB_script_configs.txt';
            if (outputPath) {
                const pathParts = outputPath.split('/');
                if (pathParts.length > 0) {
                    const lastPart = pathParts[pathParts.length - 1];
                    if (lastPart.includes('.txt')) {
                        fileName = lastPart;
                    } else {
                        fileName = `${lastPart}/UWB_script_configs.txt`;
                    }
                }
            }
            
            const configText = originalConfigs.join('\n');
            const blob = new Blob([configText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            updateStatus('‚úÖ –ö–æ–Ω—Ñ–∏–≥–∏ —Å–∫–∞—á–∞–Ω—ã!', `–§–∞–π–ª "${fileName}" —Å ${originalConfigs.length} —Ä–∞–±–æ—á–∏–º–∏ –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω`, 100);
        }
        
        function resetForm() {
            if (isProcessing) return;
            
            outputPathInput.value = '';
            keywordInput.value = '';
            noFilterGuaranteedCheckbox.checked = true;
            fastModeCheckbox.checked = false;
            fastModeV2Checkbox.checked = true; // V2 –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            foundConfigs = [];
            totalConfigs = 0;
            configsWithoutDuplicates = 0;
            
            configsContainer.innerHTML = '';
            resultsPanel.style.display = 'none';
            
            updateStatus('–ì–æ—Ç–æ–≤ –∫ –ø–æ–∏—Å–∫—É –∫–æ–Ω—Ñ–∏–≥–æ–≤...', '–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤" –¥–ª—è –∑–∞–ø—É—Å–∫–∞', 0);
            
            startBtn.disabled = false;
            startBtn.innerHTML = '<i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤';
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        startBtn.addEventListener('click', searchConfigs);
        resetBtn.addEventListener('click', resetForm);
        downloadBtn.addEventListener('click', downloadConfigs);
        copyAllBtn.addEventListener('click', copyAllConfigs);
        
        // –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º V2 –Ω–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç –æ–±—ã—á–Ω—ã–π –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º
        fastModeV2Checkbox.addEventListener('change', function() {
            if (this.checked) {
                updateStatus('‚ö° –í–∫–ª—é—á–µ–Ω –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º V2', '–í—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ –±—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ', 0);
            } else {
                updateStatus('üìä –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ–≤–µ—Ä–∫–∏', '–ö–æ–Ω—Ñ–∏–≥–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ', 0);
            }
        });
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
        noFilterGuaranteedCheckbox.addEventListener('change', function() {
            if (this.checked) {
                updateStatus('‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è', '–ù–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è', 0);
            } else {
                updateStatus('‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è', '–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –±—É–¥—É—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É –∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º', 0);
            }
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        fastModeV2Checkbox.checked = true; // V2 –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        fastModeCheckbox.checked = false; // –û–±—ã—á–Ω—ã–π –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º –≤—ã–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        updateStatus('–ì–æ—Ç–æ–≤ –∫ –ø–æ–∏—Å–∫—É –∫–æ–Ω—Ñ–∏–≥–æ–≤...', `–ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º V2 –≤–∫–ª—é—á–µ–Ω, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è`, 0);
    </script>
</body>

</html>
